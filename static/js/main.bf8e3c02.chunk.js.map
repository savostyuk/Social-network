{"version":3,"sources":["assets/images/user.png","redux/dialogsReducer.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Users/Users.module.css","components/common/FormControls/FormsControl.js","components/common/Paginator/Paginator.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Setings.jsx","redux/usersReducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","assets/images/loader.svg","components/common/Preloader/Preloader.js","components/common/FormControls/FormsControl.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profileFile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","textarea","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","nav","item","to","activeClassName","activeLink","active","News","content","Music","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","map","u","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","selectedPage","button","buttonLeft","onClick","p","pageNumber","e","buttonRight","User","user","userWrapper","src","photos","small","userPhoto","alt","title","usersPhoto","usersInfo","username","usersButtonRed","disabled","some","usersButtonGreen","Users","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","connect","dispatch","a","resultCode","page","items","totalCount","Header","header","loginBlock","isAuth","headerButton","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandleErrors","promiseRejectionEvent","console","document","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","promise","Promise","all","SocialJSApp","ReactDOM","getElementById","style","backgroundColor","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.bf8e3c02.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.ab7efdc7.png\";","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'Привет! Как дела?'},\r\n        {id: 2, message: 'Напиши что-нибудь...'},\r\n        {id: 3, message: 'Когда ты приедешь?'},\r\n        {id: 4, message: 'Я тебе позвоню!'},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Дмитрий'},\r\n        {id: 2, name: 'Андрей'},\r\n        {id: 3, name: 'Светлана'},\r\n        {id: 4, name: 'Елена'},\r\n        {id: 5, name: 'Екатерина'},\r\n        {id: 6, name: 'Наталья'},\r\n    ],\r\n}\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return  {\r\n                ...state,\r\n                messages: [...state.messages, {id: 7, message: body}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"News_content__1gzSJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Music_content__10cda\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Settings_content__3tkAQ\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n        withCredentials: true,\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n        headers: {\r\n            \"API-KEY\": \"f8b8860b-d1a3-4306-b3c2-9fd57ae66342\"\r\n        }\r\n\r\n    }\r\n);\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`);\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/`+userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/`+userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status/`, {status: status});\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo/`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profileFile){\r\n        return instance.put(`profile/`, profileFile);\r\n    }\r\n}\r\n\r\nexport const authAPI ={\r\n    me(){\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe=false, captcha=null){\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}\r\n\r\nexport const securityAPI ={\r\n    getCaptchaUrl(){\r\n        return instance.get(`security/get-captcha-url`);\r\n    },\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3fAs7\",\"item\":\"Navbar_item__cD6ue\",\"activeLink\":\"Navbar_activeLink__32sWq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Users_userWrapper__1lpd3\",\"usersPhoto\":\"Users_usersPhoto__3eWu2\",\"users\":\"Users_users__MJK0Y\",\"usersInfo\":\"Users_usersInfo__3IQ-b\",\"username\":\"Users_username__1ZFX-\",\"status\":\"Users_status__1M7gV\",\"usersButtonRed\":\"Users_usersButtonRed__2GJVN\",\"usersButtonGreen\":\"Users_usersButtonGreen__1P5Dx\"};","import React from 'react';\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <textarea className={styles.textarea} {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder}\r\n               name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        />{text}\r\n    </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__32P-W\",\"selectedPage\":\"Paginator_selectedPage__xMU1i\",\"paginator\":\"Paginator_paginator__2fwnZ\",\"button\":\"Paginator_button__7F_Cr\",\"buttonRight\":\"Paginator_buttonRight__2CWxw\",\"buttonLeft\":\"Paginator_buttonLeft__2fH7L\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={styles.nav}>\r\n            <div className={styles.item}>\r\n                <NavLink to='/profile' activeClassName={styles.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${styles.item} ${styles.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={styles.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to='/users' activeClassName={styles.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to='/news' activeClassName={styles.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to='/musics' activeClassName={styles.activeLink}>Musics</NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                <NavLink to='/settings' activeClassName={styles.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport styles from './News.module.css'\r\n\r\nconst News = () =>{\r\n    return (\r\n        <div className={styles.content}>\r\n            Страница находится в разработке\r\n        </div>\r\n    )\r\n}\r\nexport default News;\r\n","import React from 'react';\r\nimport styles from './Music.module.css'\r\n\r\nconst Music = () =>{\r\n    return (\r\n        <div className={styles.content}>\r\n            Страница находится в разработке\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Music;\r\n","import React from 'react';\r\nimport styles from './Settings.module.css'\r\n\r\nconst Settings = () =>{\r\n    return (\r\n        <div className={styles.content}>\r\n            Страница находится в разработке\r\n        </div>\r\n    )\r\n}\r\nexport default Settings;\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n}\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                /*  users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true}),*/\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                /*users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false}),*/\r\n\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false};\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(page));\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n/*const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}*/\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersAPI.follow(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch(toggleFollowingProgress(true, userId));\r\n        let response = await usersAPI.unfollow(userId);\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from 'classnames';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / pageSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={cn(styles.paginator, {[styles.selectedPage] : true})}>\r\n        {\r\n            portionNumber > 1 &&\r\n            <button className={styles.button + ' ' +styles.buttonLeft} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>Влево</button>\r\n        }\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                    return <span className={cn({\r\n                        [styles.selectedPage]: currentPage === p\r\n                    }, styles.pageNumber)}\r\n                                 key={p}\r\n                                 onClick={(e) => {\r\n                                     onPageChanged(p);\r\n                                 }}>{p}</span>\r\n                }\r\n            )}\r\n        {portionCount>portionNumber &&\r\n        <button className={styles.button + ' ' +styles.buttonRight} onClick={()=>{setPortionNumber(portionNumber+1)} }>Вправо</button>}\r\n    </div>\r\n\r\n}\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div className={styles.userWrapper}>\r\n            <div className={styles.users}>\r\n                <div>\r\n                    <NavLink to={\"/profile/\" + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} alt='Фото профиля' title='Перейти на страницу'\r\n                             className={styles.usersPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n\r\n            </div>\r\n            <div className={styles.usersInfo}>\r\n                <div className={styles.username}>{user.name}</div>\r\n                <div className={styles.status}>{user.status}</div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button className={styles.usersButtonRed} disabled={followingInProgress\r\n                            .some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id);\r\n                        }}>Отписаться</button>\r\n                        : <button className={styles.usersButtonGreen}\r\n                                  disabled={followingInProgress.some(id => id === user.id)}\r\n                                  onClick={() => {\r\n                                      follow(user.id);\r\n                                  }}>Подписаться</button>}\r\n                </div>\r\n            </div>\r\n\r\n        </div>)\r\n}\r\nexport default User;\r\n","import React from 'react';\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return (\r\n        <div>\r\n            <Paginator currentPage = {currentPage} onPageChanged = {onPageChanged}\r\n                       totalItemsCount = {totalUsersCount} pageSize={pageSize}/>\r\n            <div>\r\n                       {\r\n                users.map(u => <User key={u.id}\r\n                                     user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n\r\n                />)\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) =>{\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector( getUsersSelector, (users) =>{\r\n    return users.filter(u => true);\r\n});\r\nexport const getPageSize = (state) =>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) =>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) =>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) =>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) =>{\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers,\r\n    })\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport styles from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) =>{\r\n    return(\r\n        <header className={styles.header}>\r\n            <div className={styles.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button className={styles.headerButton} onClick={props.logout}>Выйти</button> </div>\r\n                    : <NavLink to={'/login'}>Войти</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;\r\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'social-network/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null, //if null, then captcha is not required\r\n}\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        //success, get auth data\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n            let message = response.data.messages.length > 0 ? response.data.messages : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n}\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormControls/FormsControl\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from '../common/FormControls/FormsControl.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n            {createField(null, \"rememberMe\", null, Input, {type: \"checkbox\"}, \"rememberMe\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {} )}\r\n\r\n\r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n}\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const InitializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(InitializedSuccess());\r\n        })\r\n}\r\n\r\n\r\nexport default appReducer;\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) =>{\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //для работы расширения google redux\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n/*let store = createStore(reducers, applyMiddleware(thunkMiddleware));*/\r\n\r\nwindow.store = store;\r\nexport default store;\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) =>{\r\n        return <Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    };\r\n}","import React from 'react';\nimport {Redirect, Switch, withRouter, Route, HashRouter} from 'react-router-dom';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Setings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')); //не собирает сразу большой бандл\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n    catchAllUnhandleErrors = (promiseRejectionEvent) => {\n       /* alert(\"some error\");*/\n        console.error(promiseRejectionEvent);\n    }\n    componentWillMount() {\n        document.title = 'Социальная сеть';\n    }\n\n    componentDidMount() {   //срабатывает 1 раз, когда компонента монтируется\n        this.props.initializeApp(); //callback\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandleErrors)\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                        <Route exact path='/'\n                               render={() => <Redirect to={\"/profile\"}/>}/>\n                        <Route path='/profile/:userId?'\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs'\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users'\n                               render={() => <UsersContainer/>}/>\n                        <Route path='/login'\n                               render={() => <LoginPage/>}/>\n                        <Route exact path='/news' component={News}/>\n                        <Route exact path='/musics' component={Music}/>\n                        <Route exact path='/settings' component={Settings}/>\n                        <Route exact path='*'\n                               render={() => <div>404 NOT FOUND</div>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);  //compose применяет HOC\n\nlet SocialJSApp = (props) => { //Hash - для работы на GitHub\n    return <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\nexport default SocialJSApp;\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport SocialJSApp from \"./App\";\n\nReactDOM.render(\n    <SocialJSApp/>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/loader.02c32932.svg\";","import React from 'react';\r\nimport preloader from \"../../../assets/images/loader.svg\";\r\n\r\nlet Preloader = (props) => {\r\n    return <div style={{backgroundColor:'#f3f3f3'}}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__394sM\",\"error\":\"FormsControl_error__3WcDu\",\"formSummaryError\":\"FormsControl_formSummaryError__2dGI1\",\"textarea\":\"FormsControl_textarea__3Pu9N\"};","export const required = (value) =>{\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) =>{\r\n    if (value && value.length>maxLength)    return `Max length is ${maxLength} symbols`\r\n        return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__11Y5M\",\"loginBlock\":\"Header_loginBlock__QkKgB\",\"headerButton\":\"Header_headerButton__3MHdX\"};","import {authAPI, profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Это моя страница', likesCount: 12},\r\n        {id: 2, message: 'Первый тост за localhost', likesCount: 123},\r\n        {id: 3, message: 'Пост ни о чем', likesCount: 5},\r\n        {id: 4, message: 'Оно как бы работает но надо тестить', likesCount: 222},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0,\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) //0 если ответ от сервера успешно\r\n        dispatch(setStatus(status));\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) //0 если ответ от сервера успешно\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let response = await profileAPI.saveProfile(profile);\r\n    const userId = getState().auth.userId;\r\n    if (response.data.resultCode === 0) {//0 если ответ от сервера успешно\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}